// ---- BASE PIZZA CLASS ----
abstract class Pizza {
    String name;

    void prepare() { System.out.println("Preparing " + name); }
    void bake()    { System.out.println("Baking " + name); }
    void cut()     { System.out.println("Cutting " + name); }
    void box()     { System.out.println("Boxing " + name); }
}

// ---- NY CHEESE PIZZA ----
class NYCheesePizza extends Pizza {
    NYCheesePizza() {
        name = "NY Style Cheese Pizza";
    }
}

// ---- CHICAGO CHEESE PIZZA ----
class ChicagoCheesePizza extends Pizza {
    ChicagoCheesePizza() {
        name = "Chicago Style Cheese Pizza";
    }

    @Override
    void cut() {
        System.out.println("Cutting Chicago pizza into square slices");
    }
}

// ---- SINGLE PIZZA STORE (FACTORY METHOD) ----
abstract class PizzaStore {

    public Pizza orderPizza(String type) {
        Pizza pizza = createPizza(type);   // FACTORY METHOD

        pizza.prepare();
        pizza.bake();
        pizza.cut();
        pizza.box();

        return pizza;
    }

    protected abstract Pizza createPizza(String type);
}

// ---- ONE CLASS THAT CREATES BOTH PIZZAS ----
class SimplePizzaStore extends PizzaStore {

    protected Pizza createPizza(String type) {
        if (type.equals("ny")) {
            return new NYCheesePizza();
        }
        else if (type.equals("chicago")) {
            return new ChicagoCheesePizza();
        }
        return null;
    }
}

// ---- MAIN ----
public class Main {
    public static void main(String[] args) {

        PizzaStore store = new SimplePizzaStore();

        System.out.println("NY ORDER:");
        store.orderPizza("ny");

        System.out.println("\nCHICAGO ORDER:");
        store.orderPizza("chicago");
    }
}
